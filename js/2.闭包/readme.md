# 调用栈

- JS引擎追踪函数的一个机制，管理一份代码的执行关系
- 调用栈不能设计太大，否则JS引擎在查找上下文时会花费大量时间，非常影响性能
- 调用栈寻找变量先从词法环境寻找，再前往变量环境查找

# 作用域链

- 作用域链是一个变量查找机制，在当前作用域中查找变量，如果没有找到则向上一级作用域查找，直到全局作用域
- 作用域链是由多个词法作用域组成的，每个词法作用域都有一个指向上一级词法作用域的引用（指针）outer
- outer指向上一级词法作用域，形成一个链表结构，这就叫作用域链
- outer的具体指向取决于编写代码时该函数的定义位置，而不是调用位置。而这一过程在编译过程就完成

# 闭包

- 根据作用域查找规则，内部函数一定有权力访问外部函数的变量
- 另外，一个函数执行完毕后，对应执行环境会被销毁
- 那么如果内部函数引用了外部函数的变量，而内部函数在外部函数外部被调用，那么外部函数的执行环境就不会被销毁，这种情况就叫做闭包
- 缺点： 内存泄露