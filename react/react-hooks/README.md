# 单页应用

# hooks(钩子函数)

- `react`官方封装好的一些列函数，它们的用法和作用

1. `useState`：用于在函数组件中添加状态
2. `useEffect`：用于在函数组件中处理副作用
    - 组件每次执行就会触发
    - `useEffect`第二个参数为一个依赖数组，只在依赖数组中的变量发生变化时重新执行
    - 如果依赖数组为空，则只在组件挂载时执行一次
    - `useEffect`第一个参数是函数，该函数内部返回出来一个新的函数，这个新的函数会在组件卸载时执行
    - `useEffect`在`DOM`更新之后执行，适用于不需要立即测量或修改 DOM 的场景
    - 当中的`effect`函数作为异步函数来执行，浏览器会在下一个事件循环中执行它
3. `useLayoutEffect`：类似于`useEffect`，但它会在DOM更新后立即执行
    - 主要用于处理需要同步更新DOM的场景
    - 当中的`effect`函数作为同步函数来执行，阻塞浏览器的绘制，直到所有的 DOM 更新完成
4. `useReducer`：适用于需要处理复杂状态逻辑的场景
    - 接受一个`reducer`函数和一个初始状态作为参数
    - 返回当前状态和 dispatch 函数
    - `useReducer`接受的第二个参数作为`reducer`的第一个参数
    - `dispatch`接受的参数作为`reducer`的第二个参数
    - 传入`reducer`函数中`state`不能直接修改属性，必须要返回一个新对象
    - 一般搭配`immer`使用
5. `useRef` -- 用于访问`DOM`元素或存储可变值
    - 返回一个包含`current`属性的对象
    - `current`可以用来存储任何可变值
    - 在组件重新渲染时，`useRef`返回的对象保持不变
    - 可以用来访问`DOM`元素
6. `useContext` -- 用于在组件树中共享状态
    - 接受一个`Context`对象作为参数
    - 返回当前上下文的值
    - 可以用来避免通过组件树逐层传递`props`
